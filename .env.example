# =============================================================================
# Anno Transport Keys - Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=anno_core_dev
DB_USER=postgres
DB_PASSWORD=your_password_here

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=3009
NODE_ENV=development

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
# JWT secret for user sessions (change in production!)
JWT_SECRET=change-this-in-production-min-32-characters

# Encryption secret for LLM API keys (change in production!)
ENCRYPTION_SECRET=different-long-random-string-min-32-chars

# -----------------------------------------------------------------------------
# Server Mode (Optional)
# -----------------------------------------------------------------------------
# Mode: 'relay' (LLM relay only), 'both' (relay + MCP server)
SERVER_MODE=relay

# -----------------------------------------------------------------------------
# LLM Provider API Keys (Optional - users can add their own via UI)
# -----------------------------------------------------------------------------
# These are system-level defaults. Users can override with transport keys.

# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here

# Anthropic
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# Google Gemini
GOOGLE_API_KEY=your-google-api-key-here

# Azure OpenAI (if using Azure)
AZURE_OPENAI_API_KEY=your-azure-key-here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=gpt-4o

# -----------------------------------------------------------------------------
# CORS Configuration (Frontend URLs)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5173,http://localhost:3008,http://127.0.0.1:5173

# -----------------------------------------------------------------------------
# Feature Flags (Optional)
# -----------------------------------------------------------------------------
# Enable conversation context injection
ENABLE_CONTEXT_INJECTION=true

# Enable keyword extraction from memories
ENABLE_KEYWORD_EXTRACTION=true

# Enable automatic clustering
ENABLE_AUTO_CLUSTERING=true

# Maximum memories to inject into LLM context
MAX_CONTEXT_MEMORIES=10

# -----------------------------------------------------------------------------
# Rate Limiting (Optional)
# -----------------------------------------------------------------------------
# Max requests per minute per transport key
DEFAULT_RATE_LIMIT=60

# Max conversation messages before summarization
MAX_CONVERSATION_LENGTH=100

# -----------------------------------------------------------------------------
# Logging & Monitoring (Optional)
# -----------------------------------------------------------------------------
LOG_LEVEL=info # debug, info, warn, error
ENABLE_REQUEST_LOGGING=true

# -----------------------------------------------------------------------------
# Production Deployment Notes
# -----------------------------------------------------------------------------
# 1. Generate strong random values for JWT_SECRET and ENCRYPTION_SECRET:
#    - Use: openssl rand -base64 32
#    - Store in secure vault (AWS Secrets Manager, Azure Key Vault, etc.)
#
# 2. Set NODE_ENV=production for optimized performance
#
# 3. Use environment-specific database credentials
#
# 4. Configure CORS_ORIGINS for your production domains
#
# 5. Never commit .env to version control (add to .gitignore)
#
# 6. Use environment variables from hosting platform:
#    - Heroku: heroku config:set KEY=value
#    - AWS ECS: Task Definition environment variables
#    - Docker: --env-file flag or docker-compose env_file
#    - Kubernetes: ConfigMaps and Secrets
# =============================================================================
